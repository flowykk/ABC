# ИДЗ №4

__Работу выполнил__: Рахманов Данила Дмитриевич

__Вариант__: 29

__Условие задачи__: Преподаватель проводит экзамен у группы студентов. Каждый студент получает свой билет, сообщает его номер и готовит письменный ответ за некоторое случайное время. Подготовив ответ, он передает его преподавателю. Преподаватель некоторое случайное время просматривает ответ и сообщает студенту оценку. Требуется создать многопоточное приложение, моделирующее действия преподавателя и студентов. При решении использовать парадигму «клиент–сервер».

## В отчёте присутствуют:
- [Что сделано в ИДЗ №4?](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D1%87%D1%82%D0%BE-%D1%81%D0%B4%D0%B5%D0%BB%D0%B0%D0%BD%D0%BE-%D0%B2-%D0%B8%D0%B4%D0%B7-4)
- [Код программы](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BA%D0%BE%D0%B4-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B)
- [Описание генерируемых чисел](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B8%D1%80%D1%83%D0%B5%D0%BC%D1%8B%D1%85-%D1%87%D0%B8%D1%81%D0%B5%D0%BB)
- [Описание общего сценария работы программы](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BE%D0%B1%D1%89%D0%B5%D0%B3%D0%BE-%D1%81%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D1%8F-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B)
- [Описание кода программы](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%B4%D0%B0-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B)
- [Описание реализации входных данных консольного приложения](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%B2%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D1%85-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)
- [Описание реализации входных данных через Терминал](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8-%D0%B2%D1%85%D0%BE%D0%B4%D0%BD%D1%8B%D1%85-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB)
- [Логи выполнения консольного приложения](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BB%D0%BE%D0%B3%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)
- [Скриншоты демонстрирующие работу консольного приложения](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B-%D0%B4%D0%B5%D0%BC%D0%BE%D0%BD%D1%81%D1%82%D1%80%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B5-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%83-%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)
- [Логи выполнения приложения через Терминал](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D0%BB%D0%BE%D0%B3%D0%B8-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB)
- [Скриншоты демонстрирующие работу приложения через Терминал](https://github.com/flowykk/ABC/tree/main/%D0%98%D0%94%D0%97%20%E2%84%964#%D1%81%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%D1%8B-%D0%B4%D0%B5%D0%BC%D0%BE%D0%BD%D1%81%D1%82%D1%80%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B5-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%83-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB)

## Что сделано в ИДЗ №4?
### Оценка 4-5:
- В отчете приведен сценарий, описывающий одновременное поведение представленных в условии задания сущностей в терминах предметной области. То есть, описан сценарий, задающий ролевое поведение субъектов и объектов задачи (интерпретация условия с большей степенью детализации происходящего), а не то, как это будет реализовано в программе.
- Описана модель параллельных вычислений, используемая при разработке многопоточной программы.
- Описаны входные данные программы, включающие вариативные диапазоны, возможные при многократных запусках.
- Реализовано консольное приложение, решающее поставленную задачу с использованием одного варианта изученных синхропримитивов. Программа: [consoleExamApp.cpp](consoleExamApp.cpp)
- Ввод данных в приложение реализован с консоли во время выполнения программы (без использования аргументов командной строки).
- Для используемых генераторов случайных чисел описаны их диапазоны и то, как интерпретируются данные этих генераторов.
- Вывод программы должен быть информативным, отражая все ключевые протекающие в ней события в терминах предметной области. Наблюдатель на основе вывода программы должен понимать, что в ней происходит в каждый момент времени ее работы.
- В программе присутствуют комментарии, поясняющие выполняемые действия и описание используемых объектов и переменных.
### Оценка 6-7:
- В отчете подробно описан обобщенный алгоритм, используемый при реализации программы исходного словесного сценария. В котором показано, как на программу отображается каждый из субъектов предметной области.
- В программу добавлена генерация случайных данных в допустимых диапазонах.
- Реализован ввод исходных данных из командной строки при запуске программы вместо ввода параметров с консоли во время выполнения программы. Программа: [terminalExamApp.cpp](terminalExamApp.cpp)
### Оценка 8:
- В программу, наряду с выводом в консоль, добавлен вывод результатов в файл. Имя файла для вывода данных задается в командной строке как один из ее параметров.
- Результаты работы программы должны выводиться на экран и записываться в файл.
- Наряду с вводом исходных данных через командную строку добавлен альтернативный вариант их ввода из файла, который по сути играет роль конфигурационного файла. Имя этого файла задается в командной строке вместо параметров, которые в этом случае не вводятся. Управление вводом в командной строке осуществляется с использованием соответствующих ключей.
- Приведено не менее трех вариантов входных и выходных файлов с различными исходным данными и результатами выполнения программы.
- Ввод данных из командной строки расширен с учетом введенных изменений.

## Код программы
[Программа с вводом данных через консоль IDE](consoleExamApp.cpp)

[Программа с вводом данных через терминал](terminalExamApp.cpp)

## Описание генерируемых чисел
- `ticket_number` - Номер билета студента - целое число от 1 до 30.
- `queue_time` - Время очереди после того, как один из студентов выбрал билет - время от 1 до 2 секунд.
- `preparation_time` - Время на подготовку письменного ответа на билет - время от 1 до 3 секунд.
- `checking_time` - Время на проверку билета преподавателем - время от 1 до 2 секунд.
- `grade` - Оценка студента - целое число от 1 до 10. 

## Описание общего сценария работы программы
После того, как программа получила от пользователя количество студентов в группе `num_students` и путь к файлу `output_fileName`, куда будет записан результат работы программы, создаётся `num_students` потоков студентов и 1 поток преподавателя. 

### Сценарий работы каждого потока студента
Сначала каждый из студентов выбирает билет, после чего очередь выбора билета переходит к следующему студенту. Время на очередь выбора билетов между студентами генерируется рандомно в диапазоне от 1 до 2 секунд. Время для подготовки представляет собой рандомно сгенерированное время от 1 до 3 секунд. 

Когда время для подготовки заканчивается, студент сдаёт билет преподавателю, после чего работа переходит к потоку преподавателя.

Пока преподаватель проверяет билет (подробнее об этом чуть дальше), студент ждёт вердикт преподавателя. Когда оценка для текущего студента выставлена, очередь защищать билет переходит к следующему студенту.

### Сценарий работы потока преподавателя
Поток преподавателя сначала проверяет, сколько студентов уже ответили свои билеты: если количество студентов, ответивших билеты, равно общему числу студентов, то все студенты уже сдали экзамен, а экзамен вместе с программой завершается.

Когда поток преподавателя получает сигнал от потока текущего студента, преподаватель начинает проверку письменного ответа студента. Время на проверку - генерируемое количество секунд в диапазоне от 1 до 2. Когда билет проверен, генерируется случайная оценка студента за экзамен от 1 до 10, и она выводится на экран. После этого поток преподавателя приостанавливает свою работу, ожидая завершение написания ответа следующего студента.

## Описание кода программы
### Описание основной части программы
Сначала формируется вектор `tickets_number` с уникальными номерами билетов каждого из студентов. Засчёт цикла `while` номер билета для каждого студента генерируется до тех пор, пока не станет уникальным среди тех билетов, которые уже есть в массиве `tickets_number`.
```cpp
 for (int i = 0; i < num_students; ++i) {
    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_int_distribution<int> dis(2, 30);

    int ticket_number = dis(gen);
    auto ind = std::find(tickets_number.begin(), tickets_number.end(), ticket_number);

    while (ind != tickets_number.end())
    {
        ticket_number = dis(gen);
        ind = std::find(tickets_number.begin(), tickets_number.end(), ticket_number);
    }

    tickets_number.push_back(ticket_number);
}
```

В основной части программы присутствует цикл, который создаёт нужное количество потоков студентов:
```cpp
for (int i = 0; i < num_students; ++i) {
    int *student_id = new int(i + 1);
    pthread_create(&students[i], nullptr, StudentThread, (void *)student_id);
}
```

После создаётся поток преподавателя:
```cpp
pthread_create(&teacher, nullptr, TeacherThread, nullptr);
```

В функции `void *StudentThread(void *arg)` входным аргументом является id текущего студента. Внутри цикла `while` сначала происходит блокировка **mutex** при помощи строки `pthread_mutex_lock(&mutex)`, чтобы заблокировать доступ к общим переменным у других потоков студентов. Сначала идёт проверка на то, отвечал ли уже текущий студент на экзамене Далее выводится информация о билете, который выпал студенту, после чего генерируются числа **queue_time** и **preparation_time**, описанные выше. После того, как студент сдал преподавателю билет, при помощи `pthread_cond_signal(&teacher_cond)` вызывается поток преподавателя. Когда преподаватель проверил работу, очередь сдачи экзамена переходит к следующему студенту. Также отмечу, что вместе с выводом информации на консоль, та же информация дублируется в выходной файл, указанный во входных данных в начале выполнения программы.
```cpp
void *StudentThread(void *arg) {
    int student_id = *((int *)arg);

    while (true) {
        pthread_mutex_lock(&mutex);

        // Проверка, ответил ли уже этот студент
        if (answered_students >= num_students) {
            pthread_mutex_unlock(&mutex);
            break;
        }

        int queue_time = rand() % 2 + 1;
        int preparation_time = rand() % 3 + 1;

        sleep(queue_time);
        // Студент выбирает билет
        std::cout << "Студент " << student_id << " выбрал билет: " << tickets_number[student_id - 1] << std::endl;
        output_file << "Студент " << student_id << " выбрал билет: " << tickets_number[student_id - 1] << std::endl;

        pthread_mutex_unlock(&mutex);

        // Очередь перед следующим студентом
        sleep(queue_time);

        // Защита билета
        pthread_mutex_lock(&mutex);
        std::cout << "Студент " << student_id << " защищает билет: " << tickets_number[student_id - 1] << std::endl;
        output_file << "Студент " << student_id << " защищает билет: " << tickets_number[student_id - 1] << std::endl;
        sleep(preparation_time);
        is_teacher_active = true;
        current_student = student_id;
        answered_students++;
        pthread_cond_signal(&teacher_cond);
        pthread_mutex_unlock(&mutex);
        sleep(preparation_time);

        // Ожидание ответа от преподавателя
        pthread_mutex_lock(&mutex);
        while (is_teacher_active) {
            pthread_cond_wait(&student_cond, &mutex);
        }
        pthread_mutex_unlock(&mutex);
        sleep(1);

        break;
    }

    pthread_exit(NULL); // Явное завершение потока
}
```

Теперь рассмотрим функцию `void *TeacherThread(void *arg)`. Для начала в цикле блокируется **mutex**, после чего идёт проверка на то, не должен ли закончиться экзамен (не ответил ли еще каждый из студентов на свой билет). Когда преподаватель получает сигнал от студента о готовности, генерируется время проверки билета - `checking_time`. После проверки билета генерируется рандомная оценка от 1 до 10, и вся информация об оценке текущего студента выводится на экран. А также, здесь, аналогично потокам студентов, вся информация, которая выводится на консоль, записывается и в выходной файл.
```cpp
void *TeacherThread(void *arg) {
    while (true) {
        pthread_mutex_lock(&mutex);

        if (answered_students >= num_students) {
            std::cout << "Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.";
            output_file << "Все студенты сдали экзамен. ";
            pthread_mutex_unlock(&mutex);
            break;
        }

        while (!is_teacher_active) {
            pthread_cond_wait(&teacher_cond, &mutex);
        }

        int checking_time = rand() % 2 + 1;

        std::cout << "Преподаватель проверяет работу студента " << current_student << std::endl;
        output_file << "Преподаватель проверяет работу студента " << current_student << std::endl;
        sleep(checking_time);
        int grade = rand() % 10 + 1;
        std::cout << "Преподаватель выставляет оценку " << grade << " студенту " << current_student << std::endl;
        output_file << "Преподаватель выставляет оценку " << grade << " студенту " << current_student << std::endl;

        is_teacher_active = false;
        pthread_cond_signal(&student_cond);
        pthread_mutex_unlock(&mutex);
    }

    pthread_exit(NULL);
}
```

## Описание реализации входных данных консольного приложения
Сначала пользовтелю выводится текст с вариантами ответов и дальнейшими действиями. Из-за цикла `while` пока пользователь не введёт корректный ответ, ввод входных данных не будет завршён:
```cpp
int decision;
std::cout << "Выберите, как Вы хотите ввести данные, нужные для работы программы: \n"
             "1. Взять данные из подготовленного файла. \n"
             "2. Ввести данные в консоль. \n"
             "0. Выйти из программы. \n"
             "В качестве ответа введите одну цифру: 0, 1 или 2: ";
std::cin >> decision;
while (decision != 0 and decision != 1 and decision != 2) {
    std::cout << "Вы должны ввести только цифры 0, 1 или 2! Попробуйте ещё раз: ";
    std::cin >> decision;
}
```

После того, как ответ пользователя оказался корректным, при помощи условий `if` входные данные для программы вводятся либо через файл при помощи `ifstream`, либо через консоль. 

В файле должны находиться данные о количестве студентов и полный путь к выходному файлу, куда будут записаны результаты работы программы. Предусмотрен случай указания некорректного пути к файлу, в таком случае в консоли появляется сообщение об ошибке, а программа завершается. Ввод данных через файл происходит следующим способом:
```cpp
std::string inputFileName;
std::cout << "Введите полный путь к файлу, из которого надо считать данные: ";
std::cin >> inputFileName;

std::ifstream inputFile(inputFileName);

if (!inputFile.is_open()) {
    std::cerr << "Не удалось открыть файл." << std::endl;
    return 1; // Возвращаем ошибку
}

std::cout << "Данные успешно считались из файла! \n";
inputFile >> num_students;
inputFile >> outputFileName;

inputFile.close();
```

В случае, если пользователь выбрал ввести данные через консоль, у него запрашивается количество студентов и имя выходного файла. Ввод через консоль происходит следующим образом:
```cpp
std::cout << "Введите число студентов, который будут сдавать экзамен: ";
std::cin >> num_students;

std::cout << "Выведите полный путь к файлу, куда записать результат работы программы: ";
std::cin >> outputFileName;
```

## Описание реализации входных данных через Терминал
Ввод данных в программе реализован одним циклом `for`, который проходится по массиву аргументов программы `argv`, причём количество аргументов `argc` также указано при объявлении функции `main`.

- Если в командной строке присутсвует ключ `-in`, это означает, что ввод данных будет производиться через конфигурационный файл, название которого указывается после ключа. При отсутствии нужного файла, пользователю высветится сообщение об этом, иначе входные данные будут записаны в переменные `num_students` и `output_fileName`.
- В противном случае, ввод количества студентов на экзамене и путь к выходному файлу будет производиться через ключи `-stud` и `-out`.
```cpp
for (int i = 1; i < argc; i++) {
    if (strcmp(argv[i], "-in") == 0) {
        std::ifstream inputFile(argv[++i]);

        if (!inputFile.is_open()) {
            std::cerr << "Не удалось открыть файл." << std::endl;
            return 1; // Возвращаем ошибку
        }
        inputFile >> num_students;
        inputFile >> output_fileName;

        output_file.open(output_fileName);
    } else if (strcmp(argv[i], "-out") == 0) {
        output_file.open(argv[++i]);
    } else if (strcmp(argv[i], "-stud") == 0) {
        num_students = std::stoi(argv[++i]);
    }
}
```

## Логи выполнения консольного приложения
```
Выберите, как Вы хотите ввести данные, нужные для работы программы: 
1. Взять данные из подготовленного файла. 
2. Ввести данные в консоль. 
0. Выйти из программы. 
В качестве ответа введите одну цифру: 0, 1 или 2: 5
Вы должны ввести только цифры 0, 1 или 2! Попробуйте ещё раз: 6
Вы должны ввести только цифры 0, 1 или 2! Попробуйте ещё раз: 4
Вы должны ввести только цифры 0, 1 или 2! Попробуйте ещё раз: 0
До свидания!
Process finished with exit code 0

Выберите, как Вы хотите ввести данные, нужные для работы программы: 
1. Взять данные из подготовленного файла. 
2. Ввести данные в консоль. 
0. Выйти из программы. 
В качестве ответа введите одну цифру: 0, 1 или 2: 1
Введите полный путь к файлу, из которого надо считать данные: unknown.txt
Не удалось открыть файл.

Выберите, как Вы хотите ввести данные, нужные для работы программы: 
1. Взять данные из подготовленного файла. 
2. Ввести данные в консоль. 
0. Выйти из программы. 
В качестве ответа введите одну цифру: 0, 1 или 2: 1
Введите полный путь к файлу, из которого надо считать данные: /Users/danila/CLionProjects/untitled3/input.txt
Данные успешно считались из файла! 
Студент 2 выбрал билет: 21
Студент 1 выбрал билет: 7
Студент 3 выбрал билет: 10
Студент 4 выбрал билет: 18
Студент 5 выбрал билет: 4
Студент 7 выбрал билет: 27
Студент 6 выбрал билет: 22
Студент 2 защищает билет: 21
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 4 студенту 2
Студент 1 защищает билет: 7
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 10 студенту 1
Студент 7 защищает билет: 27
Преподаватель проверяет работу студента 7
Преподаватель выставляет оценку 3 студенту 7
Студент 5 защищает билет: 4
Преподаватель проверяет работу студента 5
Преподаватель выставляет оценку 10 студенту 5
Студент 4 защищает билет: 18
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 8 студенту 4
Студент 6 защищает билет: 22
Преподаватель проверяет работу студента 6
Преподаватель выставляет оценку 4 студенту 6
Студент 3 защищает билет: 10
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 9 студенту 3
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.
Process finished with exit code 0

Выберите, как Вы хотите ввести данные, нужные для работы программы: 
1. Взять данные из подготовленного файла. 
2. Ввести данные в консоль. 
0. Выйти из программы. 
В качестве ответа введите одну цифру: 0, 1 или 2: 2
Введите число студентов, который будут сдавать экзамен: 6
Выведите полный путь к файлу, куда записать результат работы программы: /Users/danila/CLionProjects/untitled3/output.txt
Студент 1 выбрал билет: 4
Студент 2 выбрал билет: 22
Студент 3 выбрал билет: 29
Студент 5 выбрал билет: 30
Студент 4 выбрал билет: 2
Студент 6 выбрал билет: 18
Студент 1 защищает билет: 4
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 3 студенту 1
Студент 3 защищает билет: 29
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 4 студенту 3
Студент 2 защищает билет: 22
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 10 студенту 2
Студент 6 защищает билет: 18
Преподаватель проверяет работу студента 6
Преподаватель выставляет оценку 3 студенту 6
Студент 5 защищает билет: 30
Преподаватель проверяет работу студента 5
Преподаватель выставляет оценку 10 студенту 5
Студент 4 защищает билет: 2
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 8 студенту 4
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.
Process finished with exit code 0
```

## Скриншоты демонстрирующие работу консольного приложения
### Попытка ввода неправильного ответа + Выход из программы
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 50 27" src="https://github.com/flowykk/ABC/assets/71427624/c5b288b7-944c-46d1-8f74-9bcf6b8cd59b">

### Попытка чтения данных из неизвестного файла
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 50 46" src="https://github.com/flowykk/ABC/assets/71427624/71aaf0e1-705f-484a-b73e-2ff271141083">

### Передача аргументов через файл
#### Пример 1
#### Содержимое входного файла
<img width="684" alt="Снимок экрана 2023-12-15 в 15 52 02" src="https://github.com/flowykk/ABC/assets/71427624/9db23d8e-e16c-465a-8421-0d20e7f12b5e">

#### Результат выполнения программы
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 52 19" src="https://github.com/flowykk/ABC/assets/71427624/0a6f9adf-9436-4aa8-ac64-8ddcf02d30e6">

#### Содержимое выходного файла
<img width="684" alt="Снимок экрана 2023-12-15 в 15 53 06" src="https://github.com/flowykk/ABC/assets/71427624/c602636c-e820-42b3-bc20-14ba80ad81a6">

#### Пример 2
#### Содержимое входного файла
<img width="685" alt="Снимок экрана 2023-12-15 в 15 53 53" src="https://github.com/flowykk/ABC/assets/71427624/241afa6f-cdef-49cc-935a-cee90668c3de">

#### Результат выполнения программы
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 54 19" src="https://github.com/flowykk/ABC/assets/71427624/202e5450-42cc-4ba0-a4a8-71876d7fef67">

#### Содержимое выходного файла
<img width="683" alt="Снимок экрана 2023-12-15 в 15 54 53" src="https://github.com/flowykk/ABC/assets/71427624/360cff7e-b6b4-4e85-87e4-74031ba25d42">

#### Пример 3
### Передача аргументов вручную; Количество студентов - 4; Выходной файл - "output.txt"
#### Результат выполнения программы
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 55 59" src="https://github.com/flowykk/ABC/assets/71427624/25d30a32-2ef5-496b-a1f5-3b67286545da">

#### Содержимое выходного файла
<img width="685" alt="Снимок экрана 2023-12-15 в 15 56 15" src="https://github.com/flowykk/ABC/assets/71427624/6f5134cf-b331-4df2-b316-4601b39e4b35">

#### Пример 4
### Передача аргументов вручную; Количество студентов - 6; Выходной файл - "testoutput.txt"
#### Результат выполнения программы
<img width="1440" alt="Снимок экрана 2023-12-15 в 15 59 08" src="https://github.com/flowykk/ABC/assets/71427624/00161c13-f9ff-4ee9-927d-64a6f52c6c30">

#### Содержимое выходного файла
<img width="680" alt="Снимок экрана 2023-12-15 в 15 59 22" src="https://github.com/flowykk/ABC/assets/71427624/e9275008-d8f8-414c-a001-33f011521cd3">

## Логи выполнения приложения через Терминал
```
(base) danila@MacBook-Pro-Danila untitled3 % g++ main.cpp -lpthread
(base) danila@MacBook-Pro-Danila untitled3 % ./a.out -stud 4                
Студент 1 выбрал билет: 13
Студент 2 выбрал билет: 28
Студент 3 выбрал билет: 16
Студент 4 выбрал билет: 27
Студент 1 защищает билет: 13
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 10 студенту 1
Студент 3 защищает билет: 16
Студент 2 защищает билет: 28
Студент 4 защищает билет: 27
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 6 студенту 4
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.

%(base) danila@MacBook-Pro-Danila untitled3 % ./a.out -stud 4
Студент 1 выбрал билет: 4
Студент 2 выбрал билет: 22
Студент 3 выбрал билет: 21
Студент 4 выбрал билет: 2
Студент 1 защищает билет: 4
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 10 студенту 1
Студент 3 защищает билет: 21
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 6 студенту 3
Студент 2 защищает билет: 22
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 3 студенту 2
Студент 4 защищает билет: 2
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 4 студенту 4
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.

(base) danila@MacBook-Pro-Danila untitled3 % ./a.out -stud 4
Студент 1 выбрал билет: 4
Студент 2 выбрал билет: 22
Студент 3 выбрал билет: 21
Студент 4 выбрал билет: 2
Студент 1 защищает билет: 4
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 10 студенту 1
Студент 3 защищает билет: 21
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 6 студенту 3
Студент 2 защищает билет: 22
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 3 студенту 2
Студент 4 защищает билет: 2
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 4 студенту 4
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.

(base) danila@MacBook-Pro-Danila untitled3 % ./a.out -in input.txt
Студент 1 выбрал билет: 22
Студент 2 выбрал билет: 13
Студент 3 выбрал билет: 7
Студент 1 защищает билет: 22
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 9 студенту 1
Студент 3 защищает билет: 7
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 10 студенту 3
Студент 2 защищает билет: 13
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 6 студенту 2
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.

(base) danila@MacBook-Pro-Danila untitled3 % ./a.out -in input.txt
Студент 1 выбрал билет: 4
Студент 2 выбрал билет: 23
Студент 3 выбрал билет: 17
Студент 4 выбрал билет: 2
Студент 5 выбрал билет: 13
Студент 6 выбрал билет: 27
Студент 1 защищает билет: 4
Преподаватель проверяет работу студента 1
Преподаватель выставляет оценку 3 студенту 1
Студент 3 защищает билет: 17
Преподаватель проверяет работу студента 3
Преподаватель выставляет оценку 4 студенту 3
Студент 6 защищает билет: 27
Преподаватель проверяет работу студента 6
Преподаватель выставляет оценку 10 студенту 6
Студент 5 защищает билет: 13
Преподаватель проверяет работу студента 5
Преподаватель выставляет оценку 3 студенту 5
Студент 4 защищает билет: 2
Преподаватель проверяет работу студента 4
Преподаватель выставляет оценку 10 студенту 4
Студент 2 защищает билет: 23
Преподаватель проверяет работу студента 2
Преподаватель выставляет оценку 8 студенту 2
Все студенты сдали экзамен. Программа завершена. Результат записан в выходной файл.
```
## Скриншоты демонстрирующие работу приложения через Терминал

### Попытка чтения данных из неизвестного файла
#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 14 55 33" src="https://github.com/flowykk/ABC/assets/71427624/68202a9d-7c6a-4050-aefc-de685dbd320a">

### Передача аргументов через файл
#### Пример 1
#### Содержимое входного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 34 14" src="https://github.com/flowykk/ABC/assets/71427624/70b5cddb-07fd-4726-b46c-c940beb0775a">

#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 15 34 37" src="https://github.com/flowykk/ABC/assets/71427624/67c5738e-3e26-43f3-822b-d8c924eed5be">

#### Содержимое выходного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 35 00" src="https://github.com/flowykk/ABC/assets/71427624/a6a98876-14cf-44ed-a000-38dc8862da24">

#### Пример 2
#### Содержимое входного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 37 05" src="https://github.com/flowykk/ABC/assets/71427624/dc809893-1ca5-4e14-9651-a547aac7ce9b">

#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 15 37 25" src="https://github.com/flowykk/ABC/assets/71427624/e59cdcad-c51d-40b1-9908-5de5c57f1eee">

#### Содержимое выходного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 37 38" src="https://github.com/flowykk/ABC/assets/71427624/0d390103-71e1-433d-99cc-076fbbf4cbba">

#### Пример 3
### Передача аргументов вручную; Количество студентов - 3; Выходной файл - "output.txt"
#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 14 56 45" src="https://github.com/flowykk/ABC/assets/71427624/19c7c93d-50df-45bc-a0c1-baa88f212580">

#### Содержимое выходного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 14 57 39" src="https://github.com/flowykk/ABC/assets/71427624/2e327e7d-36e9-4160-a159-7512cdf8e952">

#### Пример 4
### Передача аргументов вручную; Количество студентов - 5; Выходной файл - "output.txt"
#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 14 59 46" src="https://github.com/flowykk/ABC/assets/71427624/8d24a5d4-4451-47fd-ad1f-feb6345ae144">

#### Содержимое выходного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 00 13" src="https://github.com/flowykk/ABC/assets/71427624/71e70698-fca8-44e4-bf92-48ceccccd5c5">

#### Пример 5
### Передача аргументов вручную; Количество студентов - 10; Выходной файл - "output10.txt"
#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 15 01 43" src="https://github.com/flowykk/ABC/assets/71427624/64e2d8fe-a2b0-45e4-9320-e575bfc8b256">

#### Содержимое выходного файла
<img width="750" alt="Снимок экрана 2023-12-15 в 15 02 01" src="https://github.com/flowykk/ABC/assets/71427624/ae3cdaa1-6655-4ada-bcda-6adcaa0f6bf6">

#### Пример 6
### Передача аргументов вручную; Количество студентов - 7
#### Результат из терминала
<img width="750" alt="Снимок экрана 2023-12-15 в 15 04 25" src="https://github.com/flowykk/ABC/assets/71427624/92319a6e-b93e-475a-add3-ac65b08935da">

!!! В случае отсутствия выходного файла среди аргументов, результат никуда не записывается.

#### Пример 7
### Передача аргументов вручную; Количество студентов - 4
#### Результат из терминала
![Снимок экрана 2023-12-15 в 15 43 36](https://github.com/flowykk/ABC/assets/71427624/9aa5c367-ff7a-4ad9-bb54-f2b529e0927d)



